{"ast":null,"code":"// src/App.js\nimport React,{useState,useEffect}from'react';import TodoForm from'./components/TodoForm';import TodoList from'./components/TodoList';import{getTodos,createTodo,updateTodo,deleteTodo}from'./api/todoApi';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[todos,setTodos]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchTodos=async()=>{try{const data=await getTodos();setTodos(data);setLoading(false);}catch(err){setError('Failed to fetch todos. Please try again later.');setLoading(false);}};fetchTodos();},[]);const handleAddTodo=async newTodo=>{try{const createdTodo=await createTodo(newTodo);setTodos([...todos,createdTodo]);}catch(err){setError('Failed to add todo. Please try again.');}};const handleToggleComplete=async id=>{try{const todoToUpdate=todos.find(todo=>todo.id===id);const updatedTodo=await updateTodo(id,{...todoToUpdate,completed:!todoToUpdate.completed});setTodos(todos.map(todo=>todo.id===id?updatedTodo:todo));}catch(err){setError('Failed to update todo. Please try again.');}};const handleDeleteTodo=async id=>{try{await deleteTodo(id);setTodos(todos.filter(todo=>todo.id!==id));}catch(err){setError('Failed to delete todo. Please try again.');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto p-4 max-w-md text-center\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4 max-w-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-center mb-6\",children:\"Todo App\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",children:[error,/*#__PURE__*/_jsx(\"button\",{className:\"float-right\",onClick:()=>setError(null),children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(TodoForm,{addTodo:handleAddTodo}),/*#__PURE__*/_jsx(TodoList,{todos:todos,toggleComplete:handleToggleComplete,deleteTodo:handleDeleteTodo})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","TodoForm","TodoList","getTodos","createTodo","updateTodo","deleteTodo","jsx","_jsx","jsxs","_jsxs","App","todos","setTodos","loading","setLoading","error","setError","fetchTodos","data","err","handleAddTodo","newTodo","createdTodo","handleToggleComplete","id","todoToUpdate","find","todo","updatedTodo","completed","map","handleDeleteTodo","filter","className","children","onClick","addTodo","toggleComplete"],"sources":["/home/vidhan/devopsStudy/serverlessFramework/todo-app/frontend/src/App.js"],"sourcesContent":["// src/App.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport TodoForm from './components/TodoForm';\r\nimport TodoList from './components/TodoList';\r\nimport { getTodos, createTodo, updateTodo, deleteTodo } from './api/todoApi';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [todos, setTodos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchTodos = async () => {\r\n      try {\r\n        const data = await getTodos();\r\n        setTodos(data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Failed to fetch todos. Please try again later.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTodos();\r\n  }, []);\r\n\r\n  const handleAddTodo = async (newTodo) => {\r\n    try {\r\n      const createdTodo = await createTodo(newTodo);\r\n      setTodos([...todos, createdTodo]);\r\n    } catch (err) {\r\n      setError('Failed to add todo. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleToggleComplete = async (id) => {\r\n    try {\r\n      const todoToUpdate = todos.find(todo => todo.id === id);\r\n      const updatedTodo = await updateTodo(id, {\r\n        ...todoToUpdate,\r\n        completed: !todoToUpdate.completed\r\n      });\r\n      \r\n      setTodos(todos.map(todo => \r\n        todo.id === id ? updatedTodo : todo\r\n      ));\r\n    } catch (err) {\r\n      setError('Failed to update todo. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleDeleteTodo = async (id) => {\r\n    try {\r\n      await deleteTodo(id);\r\n      setTodos(todos.filter(todo => todo.id !== id));\r\n    } catch (err) {\r\n      setError('Failed to delete todo. Please try again.');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"container mx-auto p-4 max-w-md text-center\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4 max-w-md\">\r\n      <h1 className=\"text-2xl font-bold text-center mb-6\">Todo App</h1>\r\n      \r\n      {error && (\r\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n          {error}\r\n          <button \r\n            className=\"float-right\" \r\n            onClick={() => setError(null)}\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n      )}\r\n      \r\n      <TodoForm addTodo={handleAddTodo} />\r\n      <TodoList \r\n        todos={todos} \r\n        toggleComplete={handleToggleComplete} \r\n        deleteTodo={handleDeleteTodo} \r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}